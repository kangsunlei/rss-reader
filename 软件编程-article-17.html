
    <!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Canva 崩溃事故:锁定、饱和与 CDN 网络问题的连锁反应</title>
        <style>
            body {
                padding: 12px;
                margin: 0;
                line-height: 1.8;
            }
            img { max-width: 100%; }
        </style>
    </head>
    <body>
        <h2>Canva 崩溃事故:锁定、饱和与 CDN 网络问题的连锁反应</h2>
        <p>2/8/2025, 12:00:00 AM</p>
        <p><div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; max-width: 100%; margin: 0px auto; color: rgb(30, 41, 59); padding: 20px 0px;">
        <div style="margin: 30px 0px; padding: 20px; background-color: rgb(255, 255, 255); border-radius: 8px; border-left: 4px solid #2563eb;">
            <h3 style="color: rgb(30, 64, 175); margin: 0px 0px 12px 0px; font-size: 1.2em; display: flex; align-items: center;">
                <span style="color: #2563eb; margin-right: 8px">📌</span> 一句话摘要
            </h3>
            <p style="margin: 0; line-height: 1.8; color: #334155">Canva 因软件部署、锁定问题及 CDN 网络问题导致 API 网关故障,最终通过 CDN 限流恢复服务。</p>
        </div>
<div style="margin: 30px 0px; padding: 20px; background-color: rgb(255, 255, 255); border-radius: 8px; border-left: 4px solid #2563eb;">
            <h3 style="color: rgb(30, 64, 175); margin: 0px 0px 12px 0px; font-size: 1.2em; display: flex; align-items: center;">
                <span style="color: #2563eb; margin-right: 8px">📝</span> 详细摘要
            </h3>
            <p style="margin: 0; line-height: 1.8; color: #334155">Canva 在 2024 年 11 月经历了一次重大系统中断,主要原因是 API 网关集群的故障。故障由多个因素共同导致,包括 Canva 编辑器软件部署、锁定问题以及 Cloudflare CDN 的网络问题,具体表现为 CDN 缓存失效,导致大量请求直接冲击 API 网关,进而引发缓存雪崩。API 网关瞬间接收到超过正常峰值三倍的请求,负载均衡器失效,API 网关任务因内存耗尽而崩溃。同时,锁定问题降低了 API 网关的处理能力,加速了故障扩散。Canva 团队通过在 CDN 层阻止流量,进行限流,并逐步恢复服务,最终解决了问题。此次事件促使 Canva 改进事件响应流程,提高 API 网关的弹性。</p>
        </div>
<div style="margin: 30px 0px; padding: 20px; background-color: rgb(255, 255, 255); border-radius: 8px; border-left: 4px solid #2563eb;">
            <h3 style="color: rgb(30, 64, 175); margin: 0px 0px 12px 0px; font-size: 1.2em; display: flex; align-items: center;">
                <span style="color: #2563eb; margin-right: 8px">💡</span> 主要观点
            </h3>
            <ol style="margin: 0; padding-left: 20px; color: #334155">
                <li style="margin: 12px 0; line-height: 1.8;">
                        <strong style="color: #1e40af">CDN 缓存失效导致大量请求直达 API 网关,引发缓存雪崩</strong>
                        <span style="color: #64748b; display: block; margin-top: 6px; padding-left: 20px; border-left: 2px solid #e2e8f0"> CDN 的缓存失效导致大量客户端同时请求新资源,API 网关瞬间负载激增,超出其处理能力极限,最终导致系统崩溃。</span>
                    </li><li style="margin: 12px 0; line-height: 1.8;">
                        <strong style="color: #1e40af">正反馈循环加速了 API 网关的崩溃</strong>
                        <span style="color: #64748b; display: block; margin-top: 6px; padding-left: 20px; border-left: 2px solid #e2e8f0"> 随着 API 网关中不健康的任务增多,健康任务承担的流量也随之增加,这使得健康任务也更容易变得不健康,形成正反馈循环。</span>
                    </li><li style="margin: 12px 0; line-height: 1.8;">
                        <strong style="color: #1e40af">锁定问题导致 API 网关处理能力下降,加剧了故障的蔓延</strong>
                        <span style="color: #64748b; display: block; margin-top: 6px; padding-left: 20px; border-left: 2px solid #e2e8f0"> 锁定问题,例如数据库锁等,限制了 API 网关处理并发请求的能力,使其更容易受到流量冲击的影响。</span>
                    </li><li style="margin: 12px 0; line-height: 1.8;">
                        <strong style="color: #1e40af">事件响应者的干预对系统恢复至关重要</strong>
                        <span style="color: #64748b; display: block; margin-top: 6px; padding-left: 20px; border-left: 2px solid #e2e8f0"> 尽管自动化系统未能有效应对,但事件响应者通过手动干预,调整系统行为,最终使系统恢复到健康状态,体现了系统的弹性。</span>
                    </li>
            </ol>
        </div>
<div style="margin: 30px 0px; padding: 20px; background-color: rgb(255, 255, 255); border-radius: 8px; border-left: 4px solid #2563eb;">
            <h3 style="color: rgb(30, 64, 175); margin: 0px 0px 12px 0px; font-size: 1.2em; display: flex; align-items: center;">
                <span style="color: #2563eb; margin-right: 8px">💬</span> 文章金句
            </h3>
            <ul style="margin: 0; padding-left: 20px; list-style-type: none; color: #334155">
                <li style="margin: 12px 0; padding-left: 20px; border-left: 2px solid #e2e8f0; font-style: italic; line-height: 1.8;">2024 年 11 月 12 日,Canva 遭遇严重系统中断,导致 canva.com 服务不可用。</li><li style="margin: 12px 0; padding-left: 20px; border-left: 2px solid #e2e8f0; font-style: italic; line-height: 1.8;">这是典型的正反馈循环:不健康节点越多,健康节点负载越高,从而更易失效。</li><li style="margin: 12px 0; padding-left: 20px; border-left: 2px solid #e2e8f0; font-style: italic; line-height: 1.8;">UTC 时间 9:29,我们添加了一条临时的 Cloudflare 防火墙规则,以阻止 CDN 上的所有流量,从而缓解 API 网关的压力。</li><li style="margin: 12px 0; padding-left: 20px; border-left: 2px solid #e2e8f0; font-style: italic; line-height: 1.8;">这是系统弹性的经典体现:当系统进入其设计未考虑的状态时,采取行动重新配置系统行为。</li><li style="margin: 12px 0; padding-left: 20px; border-left: 2px solid #e2e8f0; font-style: italic; line-height: 1.8;">在 Cloudflare 卓越而友好的合作伙伴的协助下,我们花费了一些时间才得以还原事件全貌。</li>
            </ul>
        </div>
<div style="margin: 30px 0px; padding: 20px; background-color: rgb(255, 255, 255); border-radius: 8px; border-left: 4px solid #2563eb;">
            <h3 style="color: rgb(30, 64, 175); margin: 0px 0px 12px 0px; font-size: 1.2em; display: flex; align-items: center;">
                <span style="color: #2563eb; margin-right: 8px">📊</span> 文章信息
            </h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px; background-color: rgb(255, 255, 255);">
                <div style="padding: 10px; background: white; border-radius: 6px; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); background-color: rgb(255, 255, 255);"><span style="color: #64748b; font-size: 14px; margin-right: 8px">AI 评分：</span><span style="color: #334155; font-weight: 500">88</span></div>
<div style="padding: 10px; background: white; border-radius: 6px; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); background-color: rgb(255, 255, 255);"><span style="color: #64748b; font-size: 14px; margin-right: 8px">来源：</span><span style="color: #334155; font-weight: 500">InfoQ</span></div>
<div style="padding: 10px; background: white; border-radius: 6px; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); background-color: rgb(255, 255, 255);"><span style="color: #64748b; font-size: 14px; margin-right: 8px">作者：</span><span style="color: #334155; font-weight: 500">Renato Losio</span></div>
<div style="padding: 10px; background: white; border-radius: 6px; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); background-color: rgb(255, 255, 255);"><span style="color: #64748b; font-size: 14px; margin-right: 8px">分类：</span><span style="color: #334155; font-weight: 500">软件编程</span></div>
<div style="padding: 10px; background: white; border-radius: 6px; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); background-color: rgb(255, 255, 255);"><span style="color: #64748b; font-size: 14px; margin-right: 8px">语言：</span><span style="color: #334155; font-weight: 500">英文</span></div>
<div style="padding: 10px; background: white; border-radius: 6px; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); background-color: rgb(255, 255, 255);"><span style="color: #64748b; font-size: 14px; margin-right: 8px">阅读时间：</span><span style="color: #334155; font-weight: 500">3 分钟</span></div>
<div style="padding: 10px; background: white; border-radius: 6px; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); background-color: rgb(255, 255, 255);"><span style="color: #64748b; font-size: 14px; margin-right: 8px">字数：</span><span style="color: #334155; font-weight: 500">717</span></div>
            </div>
            
                <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e2e8f0; background-color: rgb(255, 255, 255);">
                    <span style="color: #64748b; font-size: 14px;">标签：</span>
                    <span style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px;">
                        <span style="background-color: #15803d; color: white; padding: 4px 12px; border-radius: 9999px; font-size: 12px;">缓存雪崩</span>, <span style="background-color: #15803d; color: white; padding: 4px 12px; border-radius: 9999px; font-size: 12px;">API 网关</span>, <span style="background-color: #15803d; color: white; padding: 4px 12px; border-radius: 9999px; font-size: 12px;">CDN</span>, <span style="background-color: #15803d; color: white; padding: 4px 12px; border-radius: 9999px; font-size: 12px;">故障分析</span>, <span style="background-color: #15803d; color: white; padding: 4px 12px; border-radius: 9999px; font-size: 12px;">正反馈循环</span>
                    </span>
                </div>
            
        </div>
    </div></p>
        <a href="https://www.bestblogs.dev/zh/article/6178ae">阅读原文</a>
        <img width="400px" style="margin-left: -40px; display: block" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAACkCAYAAAAZtYVBAAAAAklEQVR4AewaftIAAAYJSURBVO3BQW4ky5LAQDKg+1+Z00tfJZCokib+g5vZP6x1icNaFzmsdZHDWhc5rHWRw1oXOax1kcNaFzmsdZHDWhc5rHWRw1oXOax1kcNaFzmsdZHDWhf54UMqf6liUvlLFU9UnlRMKm9UvKHylyo+cVjrIoe1LnJY6yI/fFnFN6l8omJSmSomlTdUpopJZVKZKj6hMlU8qfgmlW86rHWRw1oXOax1kR9+mcobFZ+oeEPlExVPKt5QmSomlW9SeaPiNx3WushhrYsc1rrID//jKiaVqWKqeENlUnlSMalMFZPKVDGpTBWTyn/JYa2LHNa6yGGti/zwP05lqphU3qiYKiaVNyqeVEwqT1Smiv+Sw1oXOax1kcNaF/nhl1X8poonFU9U/pLKVDFVvKEyVbxRcZPDWhc5rHWRw1oX+eHLVP6SylQxqUwVb6hMFZPKE5WpYlKZKiaVqeITKjc7rHWRw1oXOax1EfuH/xCVb6qYVJ5UTCpTxRsqTyr+Sw5rXeSw1kUOa13E/uEDKlPFE5XfVDGpPKl4ojJVTCpPKp6oTBVPVN6oeKIyVUwqb1R84rDWRQ5rXeSw1kXsH36RypOKN1TeqJhU3qiYVL6pYlKZKiaVqeITKm9U/KbDWhc5rHWRw1oX+eFDKp9Q+UTFpPKk4onKGxXfVDGpPFGZKiaVqeITKk8qPnFY6yKHtS5yWOsiP3xZxROVNyqeqEwVk8o3VUwqU8Wk8k0VT1Smikllqnii8qTimw5rXeSw1kUOa13E/uEDKk8qPqEyVUwqTyomlTcq3lCZKiaVqWJSmSqeqLxR8QmVqeKbDmtd5LDWRQ5rXcT+4QMqU8UnVKaKSWWqmFSeVDxReVLxhsobFW+oTBXfpDJV/KbDWhc5rHWRw1oX+eFDFZPKVPFEZaqYVKaKNyomlaniDZWp4knFpPKGylQxVTxReVIxqUwVf+mw1kUOa13ksNZFfviQylTxROWNikllqvhNFU9UpopJZaqYVJ5UvKEyVUwqk8oTlaliUpkqPnFY6yKHtS5yWOsi9g8fUHmj4onKk4pJ5Y2KJypvVHxCZaqYVP4/Vfylw1oXOax1kcNaF/nhQxWfUJkq3qh4ovJEZaqYVN5Q+aaKJypvVEwqU8WkMlVMKlPFJw5rXeSw1kUOa13khw+pTBWTypOKJypPKiaVb6qYVCaVT1RMKm9UPFGZVKaKSeX/02GtixzWushhrYvYP/yHqUwVT1TeqPhNKk8qPqHyTRWfOKx1kcNaFzmsdZEfPqTypGJSmSomlU9UvKEyVUwqU8WkMlVMKlPFE5UnFZPKk4onFZPKVPGXDmtd5LDWRQ5rXeSHL6uYVKaKSeVJxaQyVTypeFIxqbxR8aTijYonKlPFpPKGyk0Oa13ksNZFDmtd5IdfVvGkYlKZVKaKSWWqeKLypGJSeUNlqphU/pLKVPGGyhsVnzisdZHDWhc5rHWRH36ZyhsVT1SmikllqvgmlanimyomlScqb6hMFU9U/tJhrYsc1rrIYa2L2D98QOVJxaTyiYpJZaqYVD5R8ZtUpoonKn+pYlKZKr7psNZFDmtd5LDWRX74UMUbFX+pYlKZKt5QeaPiScWkMlW8UfGGylQxqUwVv+mw1kUOa13ksNZFfviQyl+quEnFpPJEZaqYKr5JZaq42WGtixzWushhrYv88GUV36TyTRWTylQxqXxCZap4ovJNFW+o/H86rHWRw1oXOax1kR9+mcobFZ9Q+U0Vk8qTikllqvgmlU9UvKEyVXzisNZFDmtd5LDWRX74j6t4Q2Wq+ITKVPGkYlKZKp6oTBWTylTxRGWq+E2HtS5yWOsih7Uu8sP/uIonKt+kMlW8oTJVfEJlqnhDZap4ovKbDmtd5LDWRQ5rXeSHX1bxl1SmiknlExVvqDxRmSqmiicVk8pU8b/ksNZFDmtd5LDWRX74MpW/pPJE5UnFE5XfVPGGyl+q+EuHtS5yWOsih7UuYv+w1iUOa13ksNZFDmtd5LDWRQ5rXeSw1kUOa13ksNZFDmtd5LDWRQ5rXeSw1kUOa13ksNZFDmtd5P8ADxPtT/yFT10AAAAASUVORK5CYII=" alt="QR Code" />
        <a href="index.html">返回目录</a>
    </body>
    <script>
        document.body.style.fontSize = Math.max(window.document.body.clientWidth / 30, 14) + 'px';
    </script>
    </html>